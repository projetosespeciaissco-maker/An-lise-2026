<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Clipping JornalÃ­stico</title>

<style>
body {
  font-family: Arial, sans-serif;
  margin: 0;
  background: #f4f6f8;
}

header {
  background: #1f2937;
  color: white;
  padding: 15px;
  text-align: center;
  font-size: 18px;
}

.hidden { display: none; }

#login, #app {
  padding: 20px;
}

input, textarea, select, button {
  width: 100%;
  padding: 10px;
  margin-top: 10px;
  font-size: 14px;
}

button {
  cursor: pointer;
}

.container {
  display: flex;
  gap: 20px;
}

.form {
  width: 30%;
  background: white;
  padding: 15px;
  border-radius: 8px;
}

.columns {
  width: 70%;
  display: flex;
  gap: 10px;
}

.column {
  flex: 1;
  background: white;
  padding: 10px;
  border-radius: 8px;
}

.column h3 {
  text-align: center;
}

.item {
  border-bottom: 1px solid #ddd;
  padding: 6px 0;
}

.item a {
  font-size: 12px;
  color: #2563eb;
  word-break: break-all;
}

.item small {
  color: #666;
}

.actions button {
  width: auto;
  margin-top: 5px;
}
</style>
</head>

<body>

<header>ğŸ“Š Clipping JornalÃ­stico</header>

<div id="login">
  <h3>ğŸ”’ Login</h3>
  <input type="password" id="senha" placeholder="Digite a senha">
  <button onclick="login()">Entrar</button>
</div>

<div id="app" class="hidden">
  <div class="container">

    <div class="form">
      <h3>â• Nova MatÃ©ria</h3>

      <input id="titulo" placeholder="TÃ­tulo da matÃ©ria">
      <textarea id="link" rows="3" placeholder="Cole o link aqui"></textarea>

      <select id="tipo">
        <option value="positivo">ğŸŸ¢ Positivo</option>
        <option value="neutro">âšª Neutro</option>
        <option value="negativo">ğŸ”´ Negativo</option>
      </select>

      <button onclick="salvar()">Salvar</button>
      <button onclick="exportar()">ğŸ“¤ Exportar CSV</button>
    </div>

    <div class="columns">
      <div class="column">
        <h3>ğŸŸ¢ Positivo</h3>
        <div id="positivo"></div>
      </div>

      <div class="column">
        <h3>âšª Neutro</h3>
        <div id="neutro"></div>
      </div>

      <div class="column">
        <h3>ğŸ”´ Negativo</h3>
        <div id="negativo"></div>
      </div>
    </div>

  </div>
</div>

<script>
const SENHA_CORRETA = "clipping2026";
let dados = JSON.parse(localStorage.getItem("clipping") || "[]");

function login() {
  if (senha.value === SENHA_CORRETA) {
    loginDiv = document.getElementById("login");
    appDiv = document.getElementById("app");
    loginDiv.classList.add("hidden");
    appDiv.classList.remove("hidden");
    render();
  } else {
    alert("Senha incorreta");
  }
}

function salvar() {
  if (!titulo.value || !link.value) {
    alert("Preencha tÃ­tulo e link");
    return;
  }

  dados.push({
    titulo: titulo.value,
    link: link.value,
    tipo: tipo.value,
    data: new Date().toLocaleDateString()
  });

  localStorage.setItem("clipping", JSON.stringify(dados));
  titulo.value = "";
  link.value = "";
  render();
}

function excluir(index) {
  dados.splice(index, 1);
  localStorage.setItem("clipping", JSON.stringify(dados));
  render();
}

function render() {
  ["positivo", "neutro", "negativo"].forEach(id => {
    document.getElementById(id).innerHTML = "";
  });

  dados.forEach((item, i) => {
    const div = document.createElement("div");
    div.className = "item";
    div.innerHTML = `
      <strong>${item.titulo}</strong><br>
      <a href="${item.link}" target="_blank">${item.link}</a><br>
      <small>${item.data}</small>
      <div class="actions">
        <button onclick="excluir(${i})">ğŸ—‘ï¸ Excluir</button>
      </div>
    `;
    document.getElementById(item.tipo).appendChild(div);
  });
}

function exportar() {
  let csv = "Tipo,TÃ­tulo,Link,Data\n";
  dados.forEach(d => {
    csv += `${d.tipo},"${d.titulo}",${d.link},${d.data}\n`;
  });

  const blob = new Blob([csv], { type: "text/csv" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "clipping.csv";
  a.click();
}
</script>

</body>
</html>
